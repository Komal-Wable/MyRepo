FINAL DATABASE DESIGN (LOCKED)
ðŸ§± TOTAL TABLES: 5

users

courses

course_students

assignments

submissions

No groups.
No targets.
No course codes.
No over-engineering.

1ï¸âƒ£ USERS TABLE
Purpose

Stores teachers and students.

users
-----
id            BIGINT (PK)
username      VARCHAR(100) UNIQUE
password      VARCHAR(255)
role          ENUM('TEACHER','STUDENT')

Notes

One table for both roles

Role-based access handled via JWT

2ï¸âƒ£ COURSES TABLE
Purpose

Represents a course created by a teacher.

courses
-------
id            BIGINT (PK)
name          VARCHAR(255)
created_by    BIGINT (FK â†’ users.id)

Relationship

One Teacher â†’ Many Courses

3ï¸âƒ£ COURSE_STUDENTS TABLE (ENROLLMENT)
Purpose

Maps students to courses they joined.

course_students
---------------
id            BIGINT (PK)
course_id     BIGINT (FK â†’ courses.id)
student_id    BIGINT (FK â†’ users.id)

UNIQUE (course_id, student_id)

Relationship

Many Students â†” Many Courses

Prevents duplicate enrollment

4ï¸âƒ£ ASSIGNMENTS TABLE
Purpose

Assignments created by teachers for a course.

assignments
-----------
id                     BIGINT (PK)
title                  VARCHAR(255)
description            TEXT
assignment_type        ENUM('FILE','LINK')
instruction_path_link  VARCHAR(255)
course_id              BIGINT (FK â†’ courses.id)
created_by             BIGINT (FK â†’ users.id)
created_at             DATETIME

Relationship

One Course â†’ Many Assignments

One Teacher â†’ Many Assignments

5ï¸âƒ£ SUBMISSIONS TABLE
Purpose

Student submissions for assignments.

submissions
-----------
id                   BIGINT (PK)
assignment_id        BIGINT (FK â†’ assignments.id)
student_id           BIGINT (FK â†’ users.id)
submission_type      ENUM('FILE','LINK')
submission_content   VARCHAR(255)
submitted_at         DATETIME

UNIQUE (assignment_id, student_id)

Relationship

One Student â†’ One Submission per Assignment

Duplicate submission prevented

ðŸ”— RELATIONSHIP SUMMARY (VERY IMPORTANT)
User (TEACHER)
   â””â”€â”€ creates â”€â”€> Course
                      â””â”€â”€ has â”€â”€> Assignment

User (STUDENT)
   â””â”€â”€ joins â”€â”€> Course (via course_students)
                      â””â”€â”€ views & submits â”€â”€> Assignment
                                                  â””â”€â”€ Submission







1ï¸âƒ£ USER â†” COURSE
Relationship
One Teacher â†’ Many Courses

Explanation

A teacher can create multiple courses

Each course is created by exactly one teacher

DB Mapping
courses.created_by â†’ users.id

JPA Meaning
Course â†’ @ManyToOne â†’ User (TEACHER)

2ï¸âƒ£ COURSE â†” STUDENT (via COURSE_STUDENTS)
Relationship
Many Students â†” Many Courses


This is implemented using a join table.

Explanation

A student can join multiple courses

A course can have multiple students

DB Mapping
course_students.course_id  â†’ courses.id
course_students.student_id â†’ users.id

Why a separate table?

Avoids duplication

Scalable

Industry standard

3ï¸âƒ£ COURSE â†” ASSIGNMENT
Relationship
One Course â†’ Many Assignments

Explanation

Each course contains multiple assignments

Each assignment belongs to exactly one course

DB Mapping
assignments.course_id â†’ courses.id

JPA Meaning
Assignment â†’ @ManyToOne â†’ Course

4ï¸âƒ£ ASSIGNMENT â†” SUBMISSION
Relationship
One Assignment â†’ Many Submissions

Explanation

Multiple students submit the same assignment

Each submission belongs to one assignment

DB Mapping
submissions.assignment_id â†’ assignments.id

5ï¸âƒ£ STUDENT â†” SUBMISSION
Relationship
One Student â†’ Many Submissions

Explanation

A student can submit multiple assignments

Only one submission per assignment per student

DB Rule
UNIQUE (assignment_id, student_id)


âœ” Prevents duplicate submissions

ðŸ“Š COMPLETE RELATIONSHIP DIAGRAM (TEXT)
USER (TEACHER)
   â””â”€â”€ creates â”€â”€> COURSE
                       â””â”€â”€ has â”€â”€> ASSIGNMENT
                                        â””â”€â”€ has â”€â”€> SUBMISSION
USER (STUDENT)
   â””â”€â”€ joins â”€â”€> COURSE (via COURSE_STUDENTS)
                       â””â”€â”€ submits â”€â”€> ASSIGNMENT